<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SerenityQ AI{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user/navbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user/userdashboard.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Header with Navigation -->
    <header class="header">
        <a href="{{ url_for('user.ai') }}" class="logo">
            <i class="fas fa-brain"></i>
            SerenityQ
        </a>
        <div>
            <nav class="navbar">
                <ul class="nav-links">
                    <li><a href="{{ url_for('user.ai') }}" class="nav-link {% if request.path == url_for('user.ai') %}active{% endif %}">
                        <i class="fas fa-robot"></i><span>AI</span></a></li>
                    <li><a href="{{ url_for('user.dashboard') }}" class="nav-link {% if request.path == url_for('user.dashboard') %}active{% endif %}">
                        <i class="fas fa-home"></i><span>Stats</span></a></li>
                    <li><a href="{{ url_for('user.appointment') }}" class="nav-link {% if request.path == url_for('user.appointment') %}active{% endif %}">
                        <i class="fas fa-calendar-alt"></i><span>Appointments</span></a></li>
                    <li><a href="{{ url_for('user.therapist') }}" class="nav-link {% if request.path == url_for('user.therapist') %}active{% endif %}">
                        <i class="fas fa-user-md"></i><span>Therapists</span></a></li>
                    <li><a href="{{ url_for('user.booking_history') }}" class="nav-link {% if request.path == url_for('user.booking_history') %}active{% endif %}">
                        <i class="fas fa-history"></i><span>Booking History</span></a></li>
                    <li><a href="{{ url_for('user.sessions') }}" class="nav-link {% if request.path == url_for('user.sessions') %}active{% endif %}">
                        <i class="fas fa-clock"></i><span>Sessions</span></a></li>
                </ul>
                
                <div class="profile" id="profileDropdown">
                    <img src="{{ url_for('static', filename=current_user.profile_picture) if current_user else url_for('static', filename='images/profile.jpg') }}" 
                         class="profile-img" 
                         alt="Profile">
                    <div class="dropdown-menu">
                        <a href="{{ url_for('user.user_profile') }}" class="dropdown-item"><i class="fas fa-user"></i> Profile</a>
                        <a href="{{ url_for('user.notifications') }}" class="dropdown-item"><i class="fas fa-bell"></i> Notifications</a>
                        <div class="divider"></div>
                        <a href="" id="logout-btn" class="dropdown-item"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Bottom Navigation (Mobile Only) -->
    <nav class="bottom-nav">
        <ul class="bottom-nav-links">
            <li><a href="{{ url_for('user.ai') }}" class="bottom-nav-link {% if request.path == url_for('user.ai') %}active{% endif %}">
                <i class="fas fa-robot"></i></a></li>
            <li><a href="{{ url_for('user.dashboard') }}" class="bottom-nav-link {% if request.path == url_for('user.dashboard') %}active{% endif %}">
                <i class="fas fa-home"></i></a></li>
            <li><a href="{{ url_for('user.appointment') }}" class="bottom-nav-link {% if request.path == url_for('user.appointment') %}active{% endif %}">
                <i class="fas fa-calendar-alt"></i></a></li>
            <li><a href="{{ url_for('user.therapist') }}" class="bottom-nav-link {% if request.path == url_for('user.therapist') %}active{% endif %}">
                <i class="fas fa-user-md"></i></a></li>
            <li><a href="{{ url_for('user.booking_history') }}" class="bottom-nav-link {% if request.path == url_for('user.booking_history') %}active{% endif %}">
                <i class="fas fa-history"></i></a></li>
            <li><a href="{{ url_for('user.sessions') }}" class="bottom-nav-link {% if request.path == url_for('user.sessions') %}active{% endif %}">
                <i class="fas fa-clock"></i></a></li>
        </ul>
    </nav>
    

    <!-- Main Content Block -->
    <main>
        {% block content %}{% endblock %}
    </main>

    {% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/user/activeLink.js') }}"></script>
    <script src="{{ url_for('static', filename='js/logout/logout.js') }}"></script>
    {% endblock %}
</body>
</html>
