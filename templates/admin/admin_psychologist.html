{% extends "shared/adminLayout/adminlayout.html" %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/psychologist.css') }}">
{% endblock %}



{% block content %}

    <!-- Hero Section -->
    <section class="hero light-hero">
      <h1>Psychologist Management Panel</h1>
      <p>View, deactivate, or remove psychologist profiles from the system.</p>
    </section>

    <!-- Psychologist Table -->
    <section class="section-table">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Specialization</th>
              <th>Email</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div class="profile-info">
                  <strong>Dr. Alice Rivera</strong>
                  <small>Cognitive Behavioral Therapy</small>
                </div>
              </td>
              <td>Anxiety, Depression</td>
              <td>alice@serenityq.com</td>
              <td><span class="status active">Active</span></td>
              <td>
                <div class="action-btns">
                  <button class="action-btn view-btn" onclick="viewPsychologistDetails(1)">View</button>
                  <button class="action-btn deactivate-btn" onclick="showDeactivateModal(1)">Deactivate</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="profile-info">
                  <strong>Dr. John Lin</strong>
                  <small>Mindfulness & Stress Relief</small>
                </div>
              </td>
              <td>Stress, Trauma</td>
              <td>john@serenityq.com</td>
              <td><span class="status active">Active</span></td>
              <td>
                <div class="action-btns">
                  <button class="action-btn view-btn" onclick="viewPsychologistDetails(2)">View</button>
                  <button class="action-btn deactivate-btn" onclick="showDeactivateModal(2)">Deactivate</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="profile-info">
                  <strong>Dr. Maria Gonzalez</strong>
                  <small>Child Psychology</small>
                </div>
              </td>
              <td>Child Development, ADHD</td>
              <td>maria@serenityq.com</td>
              <td><span class="status active">Active</span></td>
              <td>
                <div class="action-btns">
                  <button class="action-btn view-btn" onclick="viewPsychologistDetails(3)">View</button>
                  <button class="action-btn deactivate-btn" onclick="showDeactivateModal(3)">Deactivate</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="profile-info">
                  <strong>Dr. Robert Chen</strong>
                  <small>Marriage Counseling</small>
                </div>
              </td>
              <td>Relationships, Family Therapy</td>
              <td>robert@serenityq.com</td>
              <td><span class="status inactive">Inactive</span></td>
              <td>
                <div class="action-btns">
                  <button class="action-btn view-btn" onclick="viewPsychologistDetails(4)">View</button>
                  <button class="action-btn delete-btn" onclick="showDeleteModal(4)">Delete</button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="profile-info">
                  <strong>Dr. Sarah Johnson</strong>
                  <small>Clinical Psychology</small>
                </div>
              </td>
              <td>Depression, PTSD</td>
              <td>sarah@serenityq.com</td>
              <td><span class="status active">Active</span></td>
              <td>
                <div class="action-btns">
                  <button class="action-btn view-btn" onclick="viewPsychologistDetails(5)">View</button>
                  <button class="action-btn deactivate-btn" onclick="showDeactivateModal(5)">Deactivate</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="pagination">
        <button disabled>Previous</button>
        <button class="active">1</button>
        <button>2</button>
        <button>3</button>
        <button>Next</button>
      </div>
    </section>
  </div>

  <!-- Psychologist Details Modal -->
  <div class="modal" id="psychologistModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Psychologist Details</h3>
        <button class="close-modal" onclick="closeModal('psychologistModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="profile-header">
          <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Profile Photo" class="profile-avatar">
          <div class="profile-info">
            <h3 id="modalPsychologistName">Dr. Alice Rivera</h3>
            <p id="modalPsychologistSpecialty">Cognitive Behavioral Therapy</p>
            <p id="modalPsychologistStatus"><span class="status active">Active</span></p>
          </div>
        </div>

        <div class="detail-row">
          <div class="detail-label">Email:</div>
          <div class="detail-value" id="modalPsychologistEmail">alice@serenityq.com</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Phone:</div>
          <div class="detail-value" id="modalPsychologistPhone">+1 (555) 123-4567</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">License Number:</div>
          <div class="detail-value" id="modalPsychologistLicense">PSY-1234567</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Years of Experience:</div>
          <div class="detail-value" id="modalPsychologistExperience">8 years</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Hourly Rate:</div>
          <div class="detail-value" id="modalPsychologistRate">$150/hour</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Specialties:</div>
          <div class="detail-value">
            <div class="specialties-list" id="modalPsychologistSpecialties">
              <span class="specialty-badge">Anxiety</span>
              <span class="specialty-badge">Depression</span>
              <span class="specialty-badge">Stress Management</span>
            </div>
          </div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Bio:</div>
          <div class="detail-value" id="modalPsychologistBio">
            Dr. Alice Rivera is a licensed clinical psychologist with over 8 years of experience in treating anxiety, depression, and stress-related disorders. She specializes in cognitive behavioral therapy and mindfulness-based approaches.
          </div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Last Active:</div>
          <div class="detail-value" id="modalPsychologistLastActive">2 days ago</div>
        </div>
        <div class="detail-row">
          <div class="detail-label">Patients Served:</div>
          <div class="detail-value" id="modalPsychologistPatients">142</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="action-btn view-btn" onclick="closeModal('psychologistModal')">Close</button>
      </div>
    </div>
  </div>

  <!-- Deactivate Confirmation Modal -->
  <div class="modal confirmation-modal" id="deactivateModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Deactivate Psychologist</h3>
        <button class="close-modal" onclick="closeModal('deactivateModal')">&times;</button>
      </div>
      <div class="confirmation-body">
        <i class='bx bx-error-circle'></i>
        <h3>Deactivate this psychologist?</h3>
        <p>This will prevent them from accessing the system but preserve their data. You can reactivate them later.</p>
        <div class="modal-footer">
          <button class="action-btn view-btn" onclick="closeModal('deactivateModal')">Cancel</button>
          <button class="action-btn deactivate-btn" onclick="deactivatePsychologist()">Deactivate</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal confirmation-modal" id="deleteModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Delete Psychologist</h3>
        <button class="close-modal" onclick="closeModal('deleteModal')">&times;</button>
      </div>
      <div class="confirmation-body">
        <i class='bx bx-error-circle'></i>
        <h3>Delete this psychologist permanently?</h3>
        <p>This action cannot be undone. All associated data will be removed from the system.</p>
        <div class="modal-footer">
          <button class="action-btn view-btn" onclick="closeModal('deleteModal')">Cancel</button>
          <button class="action-btn delete-btn" onclick="deletePsychologist()">Delete Permanently</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Psychologist Modal -->
  <div class="modal" id="addPsychologistModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New Psychologist</h3>
        <button class="close-modal" onclick="closeModal('addPsychologistModal')">&times;</button>
      </div>
      <div class="modal-body">
        <form id="addPsychologistForm">
          <div class="detail-row">
            <div class="detail-label">First Name:</div>
            <div class="detail-value">
              <input type="text" placeholder="Enter first name" required>
            </div>
          </div>
          <div class="detail-row">
            <div class="detail-label">Last Name:</div>
            <div class="detail-value">
              <input type="text" placeholder="Enter last name" required>
            </div>
          </div>
          <div class="detail-row">
            <div class="detail-label">Email:</div>
            <div class="detail-value">
              <input type="email" placeholder="Enter email address" required>
            </div>
          </div>
          <div class="detail-row">
            <div class="detail-label">Specialization:</div>
            <div class="detail-value">
              <select required>
                <option value="">Select specialization</option>
                <option value="clinical">Clinical Psychology</option>
                <option value="counseling">Counseling Psychology</option>
                <option value="school">School Psychology</option>
                <option value="health">Health Psychology</option>
              </select>
            </div>
          </div>
          <div class="detail-row">
            <div class="detail-label">License Number:</div>
            <div class="detail-value">
              <input type="text" placeholder="Enter license number" required>
            </div>
          </div>
          <div class="detail-row">
            <div class="detail-label">Initial Password:</div>
            <div class="detail-value">
              <input type="password" placeholder="Set initial password" required>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="action-btn view-btn" onclick="closeModal('addPsychologistModal')">Cancel</button>
        <button class="action-btn deactivate-btn" onclick="addPsychologist()">Add Psychologist</button>
      </div>
    </div>
  </div>


  {% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/admin/psychologist.js') }}"></script>
{% endblock %}
